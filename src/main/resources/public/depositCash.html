<!DOCTYPE html>
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/3.0.1/mustache.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Deposit Cash </title>
<style>
    Body {
        font-family: Calibri, Helvetica, sans-serif;
        background-color: #f1f1f1;
    }
    button {
        background-color: #4CAF50;
        width: 100%;
        color: white;
        padding: 15px;
        margin: 10px 0px;
        border: none;
        cursor: pointer;
    }
    form {
        border: 3px solid #f1f1f1;
    }
    input[type=text], input[type=password] {
        width: 100%;
        margin: 8px 0;
        padding: 12px 20px;
        display: inline-block;
        border: 2px solid green;
        box-sizing: border-box;
    }
    button:hover {
        opacity: 0.7;
    }
    .container {
        padding: 25px;
        background-color: lightblue;
    }
</style>
</head>
<body>
<center> <h1> Deposit Cash </h1> </center>

<form >
    <div class="container">
        <label>Cash : </label>
        <input type="text" placeholder="Enter Cash" id="cash" required>
        <button type="submit" onclick= "loadCashFunction()" >Load Cash</button>
    </div>
    <div class="container">
        <div>
            <button type="submit" onclick= "listStocks()" >Stocks</button>
        </div>
        <div>
            <button type="submit" onclick= "placeAnOrder()" >Place An Order</button>
        </div>
    </div>
</form>
<div id="content"></div>
</body>

<script>
    function listStocks() {
        window.location.href = "stocks.html";
    }

    function placeAnOrder() {
        window.location.href = "placeOrder.html";
    }

    function loadCashFunction() {
        var cash = document.getElementById("cash").value;
        var userId = localStorage.getItem("user");

        var data = { cash: cash, userId: userId };
        $.ajax({
            url: 'http://localhost:8082/loadCash',
            type: 'POST',
            dataType: 'json',
            contentType : 'application/json',
            data: JSON.stringify(data),
            success: function (response) {
                window.alert("Succesful");
            },
            error: function (response) {
            }
        });
    }
</script>
</html>

